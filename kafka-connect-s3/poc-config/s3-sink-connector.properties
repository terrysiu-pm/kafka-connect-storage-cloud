#
# Copyright 2018 Confluent Inc.
#
# Licensed under the Confluent Community License (the "License"); you may not use
# this file except in compliance with the License.  You may obtain a copy of the
# License at
#
# http://www.confluent.io/confluent-community-license
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
# WARRANTIES OF ANY KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations under the License.
#

name=custom-s3-sink
connector.class=io.confluent.connect.s3.S3SinkConnector
tasks.max=1
topics=<<topic to source the records from>>

s3.region=us-west-2
s3.bucket.name=<<S3 bucket to drop the event records>> 
s3.part.size=5242880
flush.size=3

storage.class=io.confluent.connect.s3.storage.S3Storage
format.class=io.confluent.connect.s3.format.protobuf.ProtobufFormat
partitioner.class=io.confluent.connect.s3.partitioner.PMCustomPartitioner
path.format='year'=YYYY/'month'=MM/'day'=dd/'hour'=HH
locale=US
timezone=UTC
partition.duration.ms=1000

# If using the evgen-lib, these headers will be set for each event
header.partition.fields=organization_id,title_id

schema.compatibility=NONE
#partition.field.name=

kafka.auth.mode=KAFKA_API_KEY
kafka.api.key=<<cluster API key>>
kafka.api.secret=<<cluster API secret>>
aws.access.key.id=<<AWS access key for IAM user with permissions to read/write to the bucket>>
aws.secret.access.key=<<AWS secret key for IAM user with permissions to read/write to the bucket>>
input.data.format=BYTES
output.data.format=BYTES
topics.dir=protobuf-format
time.interval=HOURLY
rotate.interval.ms=600000
